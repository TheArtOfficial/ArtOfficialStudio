{"id":"9d8956bc-fb28-4fd6-9c28-f8dc9844a13d","revision":0,"last_node_id":176,"last_link_id":253,"nodes":[{"id":36,"type":"DifferentialDiffusion","pos":[-3929.3115234375,585.65380859375],"size":[277.20001220703125,26],"flags":{},"order":80,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":52}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[70,72]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"DifferentialDiffusion"},"widgets_values":[]},{"id":38,"type":"SamplerCustomAdvanced","pos":[-3049.3115234375,605.65380859375],"size":[355.20001220703125,709.0133666992188],"flags":{},"order":88,"mode":0,"inputs":[{"localized_name":"noise","name":"noise","type":"NOISE","link":55},{"localized_name":"guider","name":"guider","type":"GUIDER","link":56},{"localized_name":"sampler","name":"sampler","type":"SAMPLER","link":57},{"localized_name":"sigmas","name":"sigmas","type":"SIGMAS","link":58},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":59}],"outputs":[{"localized_name":"output","name":"output","type":"LATENT","slot_index":0,"links":[53]},{"localized_name":"denoised_output","name":"denoised_output","type":"LATENT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"SamplerCustomAdvanced"},"widgets_values":[]},{"id":40,"type":"InpaintModelConditioning","pos":[-3439.3115234375,945.6544189453125],"size":[315,138],"flags":{},"order":68,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":61},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":62},{"localized_name":"vae","name":"vae","type":"VAE","link":207},{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":64},{"localized_name":"mask","name":"mask","type":"MASK","link":99},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[71]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":null},{"localized_name":"latent","name":"latent","type":"LATENT","slot_index":2,"links":[59]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"InpaintModelConditioning"},"widgets_values":[true]},{"id":41,"type":"CLIPTextEncode","pos":[-4069.3115234375,925.6543579101562],"size":[400,200],"flags":{},"order":36,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":206},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[62]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":46,"type":"ImpactImageInfo","pos":[-4479.31103515625,925.6543579101562],"size":[210,86],"flags":{},"order":45,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"IMAGE","link":68}],"outputs":[{"localized_name":"batch","name":"batch","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","slot_index":1,"links":[74]},{"localized_name":"width","name":"width","type":"INT","slot_index":2,"links":[73]},{"localized_name":"channel","name":"channel","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"c6056b132d7e155c3ece42b77e08ea45bde1bfef","Node name for S&R":"ImpactImageInfo"},"widgets_values":[]},{"id":50,"type":"KSamplerSelect","pos":[-3439.3115234375,685.65380859375],"size":[315,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null}],"outputs":[{"localized_name":"SAMPLER","name":"SAMPLER","type":"SAMPLER","slot_index":0,"links":[57]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"KSamplerSelect"},"widgets_values":["ipndm"]},{"id":51,"type":"FluxGuidance","pos":[-3439.3115234375,585.65380859375],"size":[317.4000244140625,58],"flags":{},"order":74,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":71},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[76]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"FluxGuidance"},"widgets_values":[30]},{"id":52,"type":"ModelSamplingFlux","pos":[-3599.3115234375,355.6537780761719],"size":[315,170],"flags":{},"order":83,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":72},{"localized_name":"max_shift","name":"max_shift","type":"FLOAT","widget":{"name":"max_shift"},"link":null},{"localized_name":"base_shift","name":"base_shift","type":"FLOAT","widget":{"name":"base_shift"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":73},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":74}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[75]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ModelSamplingFlux"},"widgets_values":[1.2,0.5,1024,1024]},{"id":54,"type":"BasicGuider","pos":[-3259.3115234375,485.65380859375],"size":[241.79998779296875,46],"flags":{},"order":85,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":75},{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":76}],"outputs":[{"localized_name":"GUIDER","name":"GUIDER","type":"GUIDER","slot_index":0,"links":[56]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"BasicGuider"},"widgets_values":[]},{"id":53,"type":"RandomNoise","pos":[-3593.691162109375,234.9143524169922],"size":[315,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"noise_seed","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null}],"outputs":[{"localized_name":"NOISE","name":"NOISE","type":"NOISE","slot_index":0,"links":[55]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"RandomNoise"},"widgets_values":[847349828205521,"randomize"]},{"id":76,"type":"MaskPreview+","pos":[-3363.811767578125,1178.23974609375],"size":[210,246],"flags":{},"order":67,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":98}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"MaskPreview+"},"widgets_values":[]},{"id":79,"type":"InvertMask","pos":[-4185.85205078125,1688.9827880859375],"size":[210,26],"flags":{},"order":66,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":100}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"InvertMask"},"widgets_values":[]},{"id":100,"type":"DownloadAndLoadSAM2Model","pos":[-653.6578979492188,1659.075439453125],"size":[315,130],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"segmentor","name":"segmentor","type":"COMBO","widget":{"name":"segmentor"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null}],"outputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","slot_index":0,"links":[160]}],"properties":{"aux_id":"kijai/ComfyUI-Segment-Anything-2","ver":"059815ecc55b17ae9b47d15ed9b39b243d73b25f","Node name for S&R":"DownloadAndLoadSAM2Model","cnr_id":"segment-anything-2"},"widgets_values":["sam2_hiera_large.safetensors","single_image","cuda","fp16"]},{"id":111,"type":"WanImageToVideo","pos":[211.34400939941406,518.079345703125],"size":[342.5999755859375,270],"flags":{},"order":73,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":172},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":173},{"localized_name":"vae","name":"vae","type":"VAE","link":234},{"localized_name":"clip_vision_output","name":"clip_vision_output","shape":7,"type":"CLIP_VISION_OUTPUT","link":174},{"localized_name":"start_image","name":"start_image","shape":7,"type":"IMAGE","link":175},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":176},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":177},{"localized_name":"length","name":"length","type":"INT","widget":{"name":"length"},"link":233},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[154]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[155]},{"localized_name":"latent","name":"latent","type":"LATENT","slot_index":2,"links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"WanImageToVideo"},"widgets_values":[1280,720,81,1]},{"id":124,"type":"VHS_VideoCombine","pos":[1803.8466796875,577.9677734375],"size":[218.82891845703125,334],"flags":{},"order":86,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":188},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"3a96e87951f498ebcbb6d5bf685f6b0014c8f591","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":16,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00144.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":16,"workflow":"AnimateDiff_00144.png","fullpath":"/home/art-official/ArtOfficial/Applications/ComfyUI/output/AnimateDiff_00144.mp4"}}}},{"id":133,"type":"SetNode","pos":[-7734.88916015625,288.6412048339844],"size":[210,60],"flags":{},"order":52,"mode":0,"inputs":[{"name":"CLIP","type":"CLIP","link":203}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_flux_clip","properties":{"previousName":"flux_clip"},"widgets_values":["flux_clip"],"color":"#432","bgcolor":"#653"},{"id":134,"type":"SetNode","pos":[-7721.57958984375,463.00225830078125],"size":[210,58],"flags":{},"order":53,"mode":0,"inputs":[{"name":"VAE","type":"VAE","link":197}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_flux_vae","properties":{"previousName":"flux_vae"},"widgets_values":["flux_vae"],"color":"#322","bgcolor":"#533"},{"id":135,"type":"SetNode","pos":[-7735.82275390625,587.983154296875],"size":[210,58],"flags":{},"order":54,"mode":0,"inputs":[{"name":"MODEL","type":"MODEL","link":198}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_wan_model","properties":{"previousName":"wan_model"},"widgets_values":["wan_model"],"color":"#223","bgcolor":"#335"},{"id":136,"type":"SetNode","pos":[-7747.53369140625,704.445556640625],"size":[210,58],"flags":{},"order":55,"mode":0,"inputs":[{"name":"CLIP","type":"CLIP","link":199}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_wan_clip","properties":{"previousName":"wan_clip"},"widgets_values":["wan_clip"],"color":"#432","bgcolor":"#653"},{"id":142,"type":"SetNode","pos":[-7740.20361328125,830.1123046875],"size":[210,58],"flags":{},"order":56,"mode":0,"inputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","link":200}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_wan_clip_vision","properties":{"previousName":"wan_clip_vision"},"widgets_values":["wan_clip_vision"]},{"id":143,"type":"SetNode","pos":[-7734.34716796875,939.9199829101562],"size":[210,58],"flags":{},"order":57,"mode":0,"inputs":[{"name":"VAE","type":"VAE","link":201}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_wan_vae","properties":{"previousName":"wan_vae"},"widgets_values":["wan_vae"],"color":"#322","bgcolor":"#533"},{"id":102,"type":"Florence2toCoordinates","pos":[-609.3894653320312,1412.0499267578125],"size":[315,102],"flags":{},"order":61,"mode":0,"inputs":[{"localized_name":"data","name":"data","type":"JSON","link":159},{"localized_name":"index","name":"index","type":"STRING","widget":{"name":"index"},"link":null},{"localized_name":"batch","name":"batch","type":"BOOLEAN","widget":{"name":"batch"},"link":null}],"outputs":[{"localized_name":"center_coordinates","name":"center_coordinates","type":"STRING","slot_index":0,"links":[162,163]},{"localized_name":"bboxes","name":"bboxes","type":"BBOX","slot_index":1,"links":[]}],"properties":{"aux_id":"kijai/ComfyUI-Segment-Anything-2","ver":"059815ecc55b17ae9b47d15ed9b39b243d73b25f","Node name for S&R":"Florence2toCoordinates","cnr_id":"segment-anything-2"},"widgets_values":["0",true]},{"id":98,"type":"MaskToImage","pos":[594.6071166992188,1444.2022705078125],"size":[264.5999755859375,26],"flags":{},"order":75,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":157}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[189]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":132,"type":"SetNode","pos":[-7733.35595703125,171.87791442871094],"size":[210,60],"flags":{},"order":51,"mode":0,"inputs":[{"name":"MODEL","type":"MODEL","link":195}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_flux_model","properties":{"previousName":"flux_model"},"widgets_values":["flux_model"],"color":"#223","bgcolor":"#335"},{"id":148,"type":"GetNode","pos":[-4350.12109375,788.0184936523438],"size":[210,60],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","type":"CLIP","slot_index":0,"links":[205,206]}],"title":"Get_flux_clip","properties":{},"widgets_values":["flux_clip"],"color":"#432","bgcolor":"#653"},{"id":149,"type":"GetNode","pos":[-3896.757568359375,1259.218994140625],"size":[210,60],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","slot_index":0,"links":[207]}],"title":"Get_flux_vae","properties":{},"widgets_values":["flux_vae"],"color":"#322","bgcolor":"#533"},{"id":37,"type":"VAEDecode","pos":[-2459.308837890625,635.65380859375],"size":[210,46],"flags":{},"order":90,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":53},{"localized_name":"vae","name":"vae","type":"VAE","link":208}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[60]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":99,"type":"DownloadAndLoadFlorence2Model","pos":[-1504.531982421875,1453.431640625],"size":[365.4000244140625,106],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[168]}],"properties":{"cnr_id":"comfyui-florence2","ver":"90b012e922f8bb0482bcd2ae24cdc191ec12a11f","Node name for S&R":"DownloadAndLoadFlorence2Model"},"widgets_values":["microsoft/Florence-2-large","fp16","sdpa"]},{"id":155,"type":"GetNode","pos":[-1282.20654296875,266.4752502441406],"size":[210,60],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","slot_index":0,"links":[217]}],"title":"Get_wan_model","properties":{},"widgets_values":["wan_model"],"color":"#223","bgcolor":"#335"},{"id":114,"type":"WanVideoTeaCacheKJ","pos":[-945.4619750976562,327.9945068359375],"size":[340.20001220703125,154],"flags":{},"order":37,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":217},{"localized_name":"rel_l1_thresh","name":"rel_l1_thresh","type":"FLOAT","widget":{"name":"rel_l1_thresh"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null},{"localized_name":"cache_device","name":"cache_device","type":"COMBO","widget":{"name":"cache_device"},"link":null},{"localized_name":"coefficients","name":"coefficients","type":"COMBO","widget":{"name":"coefficients"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"MODEL","slot_index":0,"links":[180]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"68db110554d5f1d9bef8d027a111a49fd7f85e1b","Node name for S&R":"WanVideoTeaCacheKJ"},"widgets_values":[0.10000000000000002,0.1,1,"offload_device","1.3B"]},{"id":112,"type":"PathchSageAttentionKJ","pos":[-198.041259765625,336.3848876953125],"size":[315,58],"flags":{},"order":71,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":179},{"localized_name":"sage_attention","name":"sage_attention","type":"COMBO","widget":{"name":"sage_attention"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[170]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"9a15e22f5e9416c0968ce3de33923f8f601257dd","Node name for S&R":"PathchSageAttentionKJ"},"widgets_values":["sageattn_qk_int8_pv_fp16_cuda"]},{"id":108,"type":"ModelSamplingSD3","pos":[211.9987335205078,328.0027160644531],"size":[315,58],"flags":{},"order":78,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":170},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[153]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"ModelSamplingSD3"},"widgets_values":[5.000000000000001]},{"id":105,"type":"SetLatentNoiseMask","pos":[411.0436096191406,836.5419921875],"size":[264.5999755859375,46],"flags":{},"order":76,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":165},{"localized_name":"mask","name":"mask","type":"MASK","link":166}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[156]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"SetLatentNoiseMask"},"widgets_values":[]},{"id":110,"type":"VAEEncode","pos":[158.03863525390625,954.6748046875],"size":[210,46],"flags":{},"order":58,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":221},{"localized_name":"vae","name":"vae","type":"VAE","link":215}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[165]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":150,"type":"GetNode","pos":[-2631.142822265625,756.1764526367188],"size":[210,60],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","slot_index":0,"links":[208]}],"title":"Get_flux_vae","properties":{},"widgets_values":["flux_vae"],"color":"#322","bgcolor":"#533"},{"id":152,"type":"GetNode","pos":[-6612.70751953125,482.3199768066406],"size":[210,60],"flags":{},"order":8,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","slot_index":0,"links":[210]}],"title":"Get_init_video","properties":{},"widgets_values":["init_video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":60,"type":"VHS_SelectImages","pos":[-6316.5771484375,491.6793212890625],"size":[212.06817626953125,106],"flags":{},"order":38,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":210},{"localized_name":"indexes","name":"indexes","type":"STRING","widget":{"name":"indexes"},"link":null},{"localized_name":"err_if_missing","name":"err_if_missing","type":"BOOLEAN","widget":{"name":"err_if_missing"},"link":null},{"localized_name":"err_if_empty","name":"err_if_empty","type":"BOOLEAN","widget":{"name":"err_if_empty"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[82]}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"3a96e87951f498ebcbb6d5bf685f6b0014c8f591","Node name for S&R":"VHS_SelectImages"},"widgets_values":{"indexes":"0","err_if_missing":true,"err_if_empty":true}},{"id":61,"type":"SaveImage","pos":[-6058.06982421875,496.531494140625],"size":[315,270],"flags":{},"order":60,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":82},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":75,"type":"DownloadAndLoadFlorence2Model","pos":[-5191.001953125,1549.4271240234375],"size":[365.4000244140625,106],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[95]}],"properties":{"cnr_id":"comfyui-florence2","ver":"90b012e922f8bb0482bcd2ae24cdc191ec12a11f","Node name for S&R":"DownloadAndLoadFlorence2Model"},"widgets_values":["microsoft/Florence-2-large","fp16","sdpa"]},{"id":39,"type":"PreviewImage","pos":[-2192.349609375,650.505615234375],"size":[561.275390625,614.7760009765625],"flags":{},"order":92,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":60}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":78,"type":"Note","pos":[-4228.85205078125,1768.9827880859375],"size":[386.99981689453125,109.9999771118164],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["If you want to change aanything except what is masked, you can use the mask inverted here. Connect it to the \"mask\" of Grow Mask with Blur"],"color":"#432","bgcolor":"#653"},{"id":153,"type":"GetNode","pos":[-1470.568603515625,1338.5281982421875],"size":[210,60],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","slot_index":0,"links":[212,214,221]}],"title":"Get_init_video","properties":{},"widgets_values":["init_video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":158,"type":"GetNode","pos":[-1435.932373046875,2155.732666015625],"size":[210,58],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","slot_index":0,"links":[222]}],"title":"Get_init_video","properties":{},"widgets_values":["init_video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":151,"type":"SetNode","pos":[-7098.53662109375,532.157470703125],"size":[210,60],"flags":{},"order":64,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":209}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_init_video","properties":{"previousName":"init_video"},"widgets_values":["init_video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":145,"type":"Note","pos":[-7166.6298828125,-181.2620391845703],"size":[442.28076171875,268.421875],"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[],"title":"Read before starting!","properties":{},"widgets_values":["Update the Model Loaders before continuing!!\n\nEither Bypass the Resize Image Node or set the Height and width\n\nRemeber you must use a *Wan Approved* resolution. That info can be found on the huggingface page for each model\n\nEnable Model Loaders = Always On\nEnable Load Video = Always On\n1. Enable Get First Frames - Run and Save Image\n2. Enable Inpaint First Frame - Run and Save Image\n3. Enable Inpaint Video + Automasking - Video is Inpainted!\n"],"color":"#432","bgcolor":"#653"},{"id":55,"type":"TorchCompileModelFluxAdvanced","pos":[-4966.57177734375,436.3522644042969],"size":[400,262],"flags":{},"order":70,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":253},{"localized_name":"backend","name":"backend","type":"COMBO","widget":{"name":"backend"},"link":null},{"localized_name":"fullgraph","name":"fullgraph","type":"BOOLEAN","widget":{"name":"fullgraph"},"link":null},{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"double_blocks","name":"double_blocks","type":"STRING","widget":{"name":"double_blocks"},"link":null},{"localized_name":"single_blocks","name":"single_blocks","type":"STRING","widget":{"name":"single_blocks"},"link":null},{"localized_name":"dynamic","name":"dynamic","type":"BOOLEAN","widget":{"name":"dynamic"},"link":null},{"localized_name":"dynamo_cache_size_limit","name":"dynamo_cache_size_limit","shape":7,"type":"INT","widget":{"name":"dynamo_cache_size_limit"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[79]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f","Node name for S&R":"TorchCompileModelFluxAdvanced"},"widgets_values":["inductor",false,"default","0-18","0-37",false,64]},{"id":58,"type":"PathchSageAttentionKJ","pos":[-4926.2890625,751.7518310546875],"size":[315,58],"flags":{},"order":77,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":79},{"localized_name":"sage_attention","name":"sage_attention","type":"COMBO","widget":{"name":"sage_attention"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[52]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"9a15e22f5e9416c0968ce3de33923f8f601257dd","Node name for S&R":"PathchSageAttentionKJ"},"widgets_values":["sageattn_qk_int8_pv_fp16_cuda"]},{"id":113,"type":"TorchCompileModelWanVideo","pos":[-563.4158935546875,323.8796691894531],"size":[315,178],"flags":{},"order":59,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":180},{"localized_name":"backend","name":"backend","type":"COMBO","widget":{"name":"backend"},"link":null},{"localized_name":"fullgraph","name":"fullgraph","type":"BOOLEAN","widget":{"name":"fullgraph"},"link":null},{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"dynamic","name":"dynamic","type":"BOOLEAN","widget":{"name":"dynamic"},"link":null},{"localized_name":"dynamo_cache_size_limit","name":"dynamo_cache_size_limit","type":"INT","widget":{"name":"dynamo_cache_size_limit"},"link":null},{"localized_name":"compile_transformer_blocks_only","name":"compile_transformer_blocks_only","type":"BOOLEAN","widget":{"name":"compile_transformer_blocks_only"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[179]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f","Node name for S&R":"TorchCompileModelWanVideo"},"widgets_values":["inductor",false,"default",false,64,false]},{"id":65,"type":"Note","pos":[-5047.81494140625,1719.1431884765625],"size":[265.3999938964844,197.4999542236328],"flags":{},"order":14,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Use this for automasking, use mask from load image if masking manually. Just update where it says \"person\" with the thing you want to mask."],"color":"#432","bgcolor":"#653"},{"id":49,"type":"BasicScheduler","pos":[-3449.3115234375,795.65380859375],"size":[315,106],"flags":{},"order":82,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":70},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"SIGMAS","name":"SIGMAS","type":"SIGMAS","slot_index":0,"links":[58]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"BasicScheduler"},"widgets_values":["beta",30,0.9]},{"id":77,"type":"GrowMaskWithBlur","pos":[-4321.056640625,1179.243408203125],"size":[315,246],"flags":{},"order":47,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":246},{"localized_name":"expand","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"localized_name":"incremental_expandrate","name":"incremental_expandrate","type":"FLOAT","widget":{"name":"incremental_expandrate"},"link":null},{"localized_name":"tapered_corners","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null},{"localized_name":"flip_input","name":"flip_input","type":"BOOLEAN","widget":{"name":"flip_input"},"link":null},{"localized_name":"blur_radius","name":"blur_radius","type":"FLOAT","widget":{"name":"blur_radius"},"link":null},{"localized_name":"lerp_alpha","name":"lerp_alpha","type":"FLOAT","widget":{"name":"lerp_alpha"},"link":null},{"localized_name":"decay_factor","name":"decay_factor","type":"FLOAT","widget":{"name":"decay_factor"},"link":null},{"localized_name":"fill_holes","name":"fill_holes","shape":7,"type":"BOOLEAN","widget":{"name":"fill_holes"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","slot_index":0,"links":[98,99]},{"localized_name":"mask_inverted","name":"mask_inverted","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f","Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[20,0,true,false,15,1,1,false]},{"id":161,"type":"Note","pos":[-746.3606567382812,2348.55419921875],"size":[349.95489501953125,194.0137939453125],"flags":{},"order":15,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["<- To learn how to use this click the tool tip!"],"color":"#432","bgcolor":"#653"},{"id":116,"type":"CLIPTextEncode","pos":[-295.69525146484375,548.6765747070312],"size":[400,200],"flags":{},"order":48,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":218},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":228}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[172]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":156,"type":"GetNode","pos":[-641.6458129882812,650.1906127929688],"size":[210,60],"flags":{},"order":16,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","type":"CLIP","slot_index":0,"links":[218,219]}],"title":"Get_wan_clip","properties":{},"widgets_values":["wan_clip"],"color":"#432","bgcolor":"#653"},{"id":157,"type":"GetNode","pos":[-543.0007934570312,994.773193359375],"size":[210,60],"flags":{},"order":17,"mode":0,"inputs":[],"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","slot_index":0,"links":[220]}],"title":"Get_wan_clip_vision","properties":{},"widgets_values":["wan_clip_vision"]},{"id":122,"type":"ImageResizeKJ","pos":[-860.2117919921875,880.5054321289062],"size":[315,326],"flags":{},"order":63,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":191},{"localized_name":"get_image_size","name":"get_image_size","shape":7,"type":"IMAGE","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":230},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":231},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"BOOLEAN","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"crop","name":"crop","shape":7,"type":"COMBO","widget":{"name":"crop"},"link":null},{"name":"height_input","shape":7,"type":"INT","widget":{"name":"height_input"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[175]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"68db110554d5f1d9bef8d027a111a49fd7f85e1b","Node name for S&R":"ImageResizeKJ"},"widgets_values":[512,512,"nearest-exact",false,2,0]},{"id":120,"type":"GetImageSizeAndCount","pos":[-1176.2884521484375,992.1981201171875],"size":[277.20001220703125,86],"flags":{},"order":41,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":229}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[185]},{"label":"480 width","localized_name":"width","name":"width","type":"INT","slot_index":1,"links":[176,230]},{"label":"832 height","localized_name":"height","name":"height","type":"INT","slot_index":2,"links":[177,231]},{"label":"1 count","localized_name":"count","name":"count","type":"INT","slot_index":3,"links":[]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f","Node name for S&R":"GetImageSizeAndCount"},"widgets_values":[]},{"id":166,"type":"SetNode","pos":[-7116.70849609375,642.8529663085938],"size":[210,60],"flags":{},"order":44,"mode":0,"inputs":[{"name":"INT","type":"INT","link":232}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_video_frames","properties":{"previousName":"video_frames"},"widgets_values":["video_frames"],"color":"#1b4669","bgcolor":"#29699c"},{"id":118,"type":"CLIPVisionEncode","pos":[-318.973876953125,1040.8348388671875],"size":[380.4000244140625,78],"flags":{},"order":62,"mode":0,"inputs":[{"localized_name":"clip_vision","name":"clip_vision","type":"CLIP_VISION","link":220},{"localized_name":"image","name":"image","type":"IMAGE","link":185},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"CLIP_VISION_OUTPUT","name":"CLIP_VISION_OUTPUT","type":"CLIP_VISION_OUTPUT","links":[174]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPVisionEncode"},"widgets_values":["center"]},{"id":117,"type":"CLIPTextEncode","pos":[-313.15887451171875,795.031005859375],"size":[400,200],"flags":{},"order":40,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":219},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[173]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode"},"widgets_values":["色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走"]},{"id":167,"type":"GetNode","pos":[164.93409729003906,841.3468627929688],"size":[210,60],"flags":{},"order":18,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","slot_index":0,"links":[233]}],"title":"Get_video_frames","properties":{},"widgets_values":["video_frames"],"color":"#1b4669","bgcolor":"#29699c"},{"id":125,"type":"VHS_VideoCombine","pos":[866.9851684570312,1312.2259521484375],"size":[218.82891845703125,334],"flags":{},"order":79,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":189},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"3a96e87951f498ebcbb6d5bf685f6b0014c8f591","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":16,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00143.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":16,"workflow":"AnimateDiff_00143.png","fullpath":"/home/art-official/ArtOfficial/Applications/ComfyUI/output/AnimateDiff_00143.mp4"}}}},{"id":171,"type":"AddLabel","pos":[2075.915771484375,1763.9813232421875],"size":[315,294],"flags":{},"order":42,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":241},{"localized_name":"caption","name":"caption","shape":7,"type":"STRING","link":null},{"localized_name":"text_x","name":"text_x","type":"INT","widget":{"name":"text_x"},"link":null},{"localized_name":"text_y","name":"text_y","type":"INT","widget":{"name":"text_y"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"font_size","name":"font_size","type":"INT","widget":{"name":"font_size"},"link":null},{"localized_name":"font_color","name":"font_color","type":"STRING","widget":{"name":"font_color"},"link":null},{"localized_name":"label_color","name":"label_color","type":"STRING","widget":{"name":"label_color"},"link":null},{"localized_name":"font","name":"font","type":"COMBO","widget":{"name":"font"},"link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null},{"localized_name":"direction","name":"direction","type":"COMBO","widget":{"name":"direction"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[238]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"68db110554d5f1d9bef8d027a111a49fd7f85e1b","Node name for S&R":"AddLabel"},"widgets_values":[10,2,48,32,"white","black","FreeMono.ttf","Depth Map","up"]},{"id":127,"type":"LoadImage","pos":[-1508.343017578125,893.4222412109375],"size":[315,314],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[191,229,241]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_pxrin_00003_.png","image"]},{"id":123,"type":"VAEDecode","pos":[1232.8570556640625,574.393310546875],"size":[210,46],"flags":{},"order":84,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":187},{"localized_name":"vae","name":"vae","type":"VAE","link":216}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[188,242]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":175,"type":"ImageConcatMulti","pos":[2563.796142578125,1921.9224853515625],"size":[315,170],"flags":{},"order":89,"mode":0,"inputs":[{"localized_name":"image_1","name":"image_1","type":"IMAGE","link":243},{"localized_name":"image_2","name":"image_2","type":"IMAGE","link":238},{"localized_name":"inputcount","name":"inputcount","type":"INT","widget":{"name":"inputcount"},"link":null},{"localized_name":"direction","name":"direction","type":"COMBO","widget":{"name":"direction"},"link":null},{"localized_name":"match_image_size","name":"match_image_size","type":"BOOLEAN","widget":{"name":"match_image_size"},"link":null},{"name":"image_3","type":"IMAGE","link":244}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","slot_index":0,"links":[236]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"68db110554d5f1d9bef8d027a111a49fd7f85e1b"},"widgets_values":[3,"right",true,null]},{"id":172,"type":"AddLabel","pos":[2077.896240234375,2131.219970703125],"size":[315,294],"flags":{},"order":87,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":242},{"localized_name":"caption","name":"caption","shape":7,"type":"STRING","link":null},{"localized_name":"text_x","name":"text_x","type":"INT","widget":{"name":"text_x"},"link":null},{"localized_name":"text_y","name":"text_y","type":"INT","widget":{"name":"text_y"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"font_size","name":"font_size","type":"INT","widget":{"name":"font_size"},"link":null},{"localized_name":"font_color","name":"font_color","type":"STRING","widget":{"name":"font_color"},"link":null},{"localized_name":"label_color","name":"label_color","type":"STRING","widget":{"name":"label_color"},"link":null},{"localized_name":"font","name":"font","type":"COMBO","widget":{"name":"font"},"link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null},{"localized_name":"direction","name":"direction","type":"COMBO","widget":{"name":"direction"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[244]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"68db110554d5f1d9bef8d027a111a49fd7f85e1b","Node name for S&R":"AddLabel"},"widgets_values":[10,2,48,32,"white","black","FreeMono.ttf","Original Video","up"]},{"id":173,"type":"AddLabel","pos":[2071.555908203125,1408.30419921875],"size":[315,294],"flags":{},"order":65,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":245},{"localized_name":"caption","name":"caption","shape":7,"type":"STRING","link":null},{"localized_name":"text_x","name":"text_x","type":"INT","widget":{"name":"text_x"},"link":null},{"localized_name":"text_y","name":"text_y","type":"INT","widget":{"name":"text_y"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"font_size","name":"font_size","type":"INT","widget":{"name":"font_size"},"link":null},{"localized_name":"font_color","name":"font_color","type":"STRING","widget":{"name":"font_color"},"link":null},{"localized_name":"label_color","name":"label_color","type":"STRING","widget":{"name":"label_color"},"link":null},{"localized_name":"font","name":"font","type":"COMBO","widget":{"name":"font"},"link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null},{"localized_name":"direction","name":"direction","type":"COMBO","widget":{"name":"direction"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[243]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"68db110554d5f1d9bef8d027a111a49fd7f85e1b","Node name for S&R":"AddLabel"},"widgets_values":[10,2,48,32,"white","black","FreeMono.ttf","Depth Control Lora","up"]},{"id":34,"type":"ImageResizeKJ","pos":[1347.268310546875,1916.7572021484375],"size":[315,286],"flags":{},"order":43,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":80},{"localized_name":"get_image_size","name":"get_image_size","shape":7,"type":"IMAGE","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"BOOLEAN","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"crop","name":"crop","shape":7,"type":"COMBO","widget":{"name":"crop"},"link":null},{"name":"height_input","shape":7,"type":"INT","widget":{"name":"height_input"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[209,245]},{"localized_name":"width","name":"width","type":"INT","slot_index":1,"links":[]},{"localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"68db110554d5f1d9bef8d027a111a49fd7f85e1b","Node name for S&R":"ImageResizeKJ"},"widgets_values":[480,832,"lanczos",false,2,0]},{"id":59,"type":"VHS_LoadVideo","pos":[-7485.23388671875,223.87147521972656],"size":[251.52520751953125,310],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"COMBO","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[80]},{"localized_name":"frame_count","name":"frame_count","type":"INT","slot_index":1,"links":[232]},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"3a96e87951f498ebcbb6d5bf685f6b0014c8f591","Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"2025y-03-24_00002.mp4","force_rate":16,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":10,"select_every_nth":1,"format":"AnimateDiff","choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"filename":"2025y-03-24_00002.mp4","type":"input","format":"video/mp4","force_rate":16,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":10,"select_every_nth":1}}}},{"id":64,"type":"Florence2Run","pos":[-4683.8046875,1572.107177734375],"size":[400,364],"flags":{},"order":46,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":83},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":95},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":null},{"localized_name":"mask","name":"mask","type":"MASK","slot_index":1,"links":[100]},{"localized_name":"caption","name":"caption","type":"STRING","links":null},{"localized_name":"data","name":"data","type":"JSON","links":null}],"properties":{"cnr_id":"comfyui-florence2","ver":"90b012e922f8bb0482bcd2ae24cdc191ec12a11f","Node name for S&R":"Florence2Run"},"widgets_values":["","referring_expression_segmentation",true,false,1024,3,true,"",280004392754699,"fixed"]},{"id":42,"type":"LoadImage","pos":[-5457.81591796875,841.8380737304688],"size":[315,314],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[64,68,83]},{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":1,"links":[246]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-2609757.5.png [input]","image"]},{"id":43,"type":"CLIPTextEncode","pos":[-4039.3115234375,675.65380859375],"size":[400,200],"flags":{},"order":35,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":205},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[61]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode"},"widgets_values":["A man holding a glowing green lightsaber from starwars"]},{"id":63,"type":"Fast Groups Bypasser (rgthree)","pos":[-7436.85205078125,-120.89124298095703],"size":[252,274],"flags":{},"order":22,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"}},{"id":165,"type":"StringConstantMultiline","pos":[-1491.870849609375,622.50244140625],"size":[400,200],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"string","name":"string","type":"STRING","widget":{"name":"string"},"link":null},{"localized_name":"strip_newlines","name":"strip_newlines","type":"BOOLEAN","widget":{"name":"strip_newlines"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","slot_index":0,"links":[228,248]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f","Node name for S&R":"StringConstantMultiline"},"widgets_values":["A man holding a glowing green lightsaber from starwars in front of him",true]},{"id":174,"type":"AddLabel","pos":[2946.4248046875,1838.783935546875],"size":[315,314],"flags":{},"order":91,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":236},{"localized_name":"caption","name":"caption","shape":7,"type":"STRING","link":null},{"localized_name":"text_x","name":"text_x","type":"INT","widget":{"name":"text_x"},"link":null},{"localized_name":"text_y","name":"text_y","type":"INT","widget":{"name":"text_y"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"font_size","name":"font_size","type":"INT","widget":{"name":"font_size"},"link":null},{"localized_name":"font_color","name":"font_color","type":"STRING","widget":{"name":"font_color"},"link":null},{"localized_name":"label_color","name":"label_color","type":"STRING","widget":{"name":"label_color"},"link":null},{"localized_name":"font","name":"font","type":"COMBO","widget":{"name":"font"},"link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":248},{"localized_name":"direction","name":"direction","type":"COMBO","widget":{"name":"direction"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[235]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"68db110554d5f1d9bef8d027a111a49fd7f85e1b","Node name for S&R":"AddLabel"},"widgets_values":[10,2,64,32,"white","black","FreeMono.ttf","Text","down"]},{"id":97,"type":"KSampler","pos":[790.35693359375,400.216552734375],"size":[315,787.3333129882812],"flags":{},"order":81,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":153},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":154},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":155},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":156},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[187]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"KSampler"},"widgets_values":[184377893785265,"fixed",20,5,"euler","normal",0.8000000000000002]},{"id":106,"type":"Florence2Run","pos":[-1121.79248046875,1404.5205078125],"size":[400,364],"flags":{},"order":39,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":212},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":168},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[]},{"localized_name":"mask","name":"mask","type":"MASK","slot_index":1,"links":[]},{"localized_name":"caption","name":"caption","type":"STRING","slot_index":2,"links":null},{"localized_name":"data","name":"data","type":"JSON","slot_index":3,"links":[159]}],"properties":{"cnr_id":"comfyui-florence2","ver":"90b012e922f8bb0482bcd2ae24cdc191ec12a11f","Node name for S&R":"Florence2Run"},"widgets_values":["sword","caption_to_phrase_grounding",true,false,1024,3,true,"",1073062247491358,"fixed"]},{"id":103,"type":"Sam2Segmentation","pos":[-283.65863037109375,1549.0753173828125],"size":[315,230],"flags":{},"order":72,"mode":0,"inputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","link":160},{"localized_name":"image","name":"image","type":"IMAGE","link":214},{"localized_name":"coordinates_positive","name":"coordinates_positive","shape":7,"type":"STRING","link":162},{"localized_name":"coordinates_negative","name":"coordinates_negative","shape":7,"type":"STRING","link":163},{"localized_name":"bboxes","name":"bboxes","shape":7,"type":"BBOX","link":null},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"individual_objects","name":"individual_objects","shape":7,"type":"BOOLEAN","widget":{"name":"individual_objects"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","slot_index":0,"links":[]}],"properties":{"aux_id":"kijai/ComfyUI-Segment-Anything-2","ver":"059815ecc55b17ae9b47d15ed9b39b243d73b25f","Node name for S&R":"Sam2Segmentation","cnr_id":"segment-anything-2"},"widgets_values":[false,false]},{"id":107,"type":"GrowMaskWithBlur","pos":[195.25942993164062,1671.5035400390625],"size":[315,246],"flags":{},"order":69,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":250},{"localized_name":"expand","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"localized_name":"incremental_expandrate","name":"incremental_expandrate","type":"FLOAT","widget":{"name":"incremental_expandrate"},"link":null},{"localized_name":"tapered_corners","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null},{"localized_name":"flip_input","name":"flip_input","type":"BOOLEAN","widget":{"name":"flip_input"},"link":null},{"localized_name":"blur_radius","name":"blur_radius","type":"FLOAT","widget":{"name":"blur_radius"},"link":null},{"localized_name":"lerp_alpha","name":"lerp_alpha","type":"FLOAT","widget":{"name":"lerp_alpha"},"link":null},{"localized_name":"decay_factor","name":"decay_factor","type":"FLOAT","widget":{"name":"decay_factor"},"link":null},{"localized_name":"fill_holes","name":"fill_holes","shape":7,"type":"BOOLEAN","widget":{"name":"fill_holes"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","slot_index":0,"links":[157,166]},{"localized_name":"mask_inverted","name":"mask_inverted","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f","Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[20,0,true,false,10,1,1,true]},{"id":159,"type":"Sam2Segmentation","pos":[134.4987030029297,2189.4462890625],"size":[315,230],"flags":{},"order":49,"mode":0,"inputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","link":227},{"localized_name":"image","name":"image","type":"IMAGE","link":222},{"localized_name":"coordinates_positive","name":"coordinates_positive","shape":7,"type":"STRING","link":223},{"localized_name":"coordinates_negative","name":"coordinates_negative","shape":7,"type":"STRING","link":224},{"localized_name":"bboxes","name":"bboxes","shape":7,"type":"BBOX","link":null},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"individual_objects","name":"individual_objects","shape":7,"type":"BOOLEAN","widget":{"name":"individual_objects"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","slot_index":0,"links":[250]}],"properties":{"aux_id":"kijai/ComfyUI-Segment-Anything-2","ver":"059815ecc55b17ae9b47d15ed9b39b243d73b25f","Node name for S&R":"Sam2Segmentation","cnr_id":"segment-anything-2"},"widgets_values":[true,false]},{"id":170,"type":"VHS_VideoCombine","pos":[3344.90234375,1214.27099609375],"size":[218.82891845703125,334],"flags":{},"order":93,"mode":0,"inputs":[{"label":"图像","localized_name":"images","name":"images","type":"IMAGE","link":235},{"label":"音频","localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"label":"批次管理","localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"label":"文件名","localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"124c913ccdd8a585734ea758c35fa1bab8499c99","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":16,"loop_count":0,"filename_prefix":"WanInpaint/%date:yyyy:MM:dd%","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"2025:03:24_00002.mp4","subfolder":"wan/ControlLora","type":"output","format":"video/h264-mp4","frame_rate":16,"workflow":"2025:03:24_00002.png","fullpath":"/home/art-official/ArtOfficial/Applications/ComfyUI/output/wan/ControlLora/2025:03:24_00002.mp4"},"muted":false}}},{"id":164,"type":"DownloadAndLoadSAM2Model","pos":[-386.93841552734375,2096.08984375],"size":[315,130],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"segmentor","name":"segmentor","type":"COMBO","widget":{"name":"segmentor"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null}],"outputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","links":[227]}],"properties":{"aux_id":"kijai/ComfyUI-Segment-Anything-2","ver":"059815ecc55b17ae9b47d15ed9b39b243d73b25f","Node name for S&R":"DownloadAndLoadSAM2Model","cnr_id":"segment-anything-2"},"widgets_values":["sam2.1_hiera_large.safetensors","video","cuda","fp16"]},{"id":160,"type":"PointsEditor","pos":[-1309.7291259765625,2369.73291015625],"size":[525,1132],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"bg_image","name":"bg_image","shape":7,"type":"IMAGE","link":null},{"localized_name":"points_store","name":"points_store","type":"STRING","widget":{"name":"points_store"},"link":null},{"localized_name":"coordinates","name":"coordinates","type":"STRING","widget":{"name":"coordinates"},"link":null},{"localized_name":"neg_coordinates","name":"neg_coordinates","type":"STRING","widget":{"name":"neg_coordinates"},"link":null},{"localized_name":"bbox_store","name":"bbox_store","type":"STRING","widget":{"name":"bbox_store"},"link":null},{"localized_name":"bboxes","name":"bboxes","type":"STRING","widget":{"name":"bboxes"},"link":null},{"localized_name":"bbox_format","name":"bbox_format","type":"COMBO","widget":{"name":"bbox_format"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"normalize","name":"normalize","type":"BOOLEAN","widget":{"name":"normalize"},"link":null}],"outputs":[{"localized_name":"positive_coords","name":"positive_coords","type":"STRING","slot_index":0,"links":[223]},{"localized_name":"negative_coords","name":"negative_coords","type":"STRING","slot_index":1,"links":[224]},{"localized_name":"bbox","name":"bbox","type":"BBOX","links":null},{"localized_name":"bbox_mask","name":"bbox_mask","type":"MASK","links":null},{"localized_name":"cropped_image","name":"cropped_image","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f","Node name for S&R":"PointsEditor","points":"PointsEditor","neg_points":"PointsEditor"},"widgets_values":["{\"positive\":[{\"x\":269.7881848638014,\"y\":446.0497989748184},{\"x\":292.39372222491636,\"y\":369.553176700936}],\"negative\":[{\"x\":249.75297106711605,\"y\":588.8484683696232},{\"x\":175.63928453093934,\"y\":474.12454263554145},{\"x\":160.25418180909764,\"y\":387.7755510442363},{\"x\":367.9910841542242,\"y\":401.6246778672447},{\"x\":241.37049605814707,\"y\":191.90932883311694}]}","[{\"x\":269.7881848638014,\"y\":446.0497989748184},{\"x\":292.39372222491636,\"y\":369.553176700936}]","[{\"x\":249.75297106711605,\"y\":588.8484683696232},{\"x\":175.63928453093934,\"y\":474.12454263554145},{\"x\":160.25418180909764,\"y\":387.7755510442363},{\"x\":367.9910841542242,\"y\":401.6246778672447},{\"x\":241.37049605814707,\"y\":191.90932883311694}]","[{}]","[{}]","xyxy",480,832,false,null,"",null]},{"id":147,"type":"GetNode","pos":[-5541.10888671875,449.40155029296875],"size":[210,60],"flags":{},"order":26,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","slot_index":0,"links":[252]}],"title":"Get_flux_model","properties":{},"widgets_values":["flux_model"],"color":"#223","bgcolor":"#335"},{"id":176,"type":"TeaCache","pos":[-4935.07861328125,286.51708984375],"size":[315,106],"flags":{},"order":50,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":252},{"localized_name":"model_type","name":"model_type","type":"COMBO","widget":{"name":"model_type"},"link":null},{"localized_name":"rel_l1_thresh","name":"rel_l1_thresh","type":"FLOAT","widget":{"name":"rel_l1_thresh"},"link":null},{"localized_name":"max_skip_steps","name":"max_skip_steps","type":"COMBO","widget":{"name":"max_skip_steps"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"MODEL","links":[253]}],"properties":{"cnr_id":"teacache","ver":"546145dca569f5582c1811ceeda6777f2719668b","Node name for S&R":"TeaCache"},"widgets_values":["flux",0.4,3]},{"id":128,"type":"UNETLoader","pos":[-8120.4208984375,162.54515075683594],"size":[315,82],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[195]}],"title":"Load Diffusion Model (Flux Model)","properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"UNETLoader"},"widgets_values":["flux1-dev.safetensors","default"]},{"id":146,"type":"DualCLIPLoader","pos":[-8108.470703125,285.2959289550781],"size":[315,130],"flags":{},"order":28,"mode":0,"inputs":[{"localized_name":"clip_name1","name":"clip_name1","type":"COMBO","widget":{"name":"clip_name1"},"link":null},{"localized_name":"clip_name2","name":"clip_name2","type":"COMBO","widget":{"name":"clip_name2"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[203]}],"title":"DualCLIPLoader (Flux Clip)","properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"DualCLIPLoader"},"widgets_values":["clip_l.safetensors","t5xxl_fp8_e4m3fn_scaled.safetensors","flux","default"]},{"id":137,"type":"VAELoader","pos":[-8109.31591796875,457.7959289550781],"size":[315,58],"flags":{},"order":29,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[197]}],"title":"Load VAE (Flux VAE)","properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAELoader"},"widgets_values":["flux_vae.safetensors"]},{"id":141,"type":"UNETLoader","pos":[-8104.37353515625,565.110107421875],"size":[315,82],"flags":{},"order":30,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[198]}],"title":"Load Diffusion Model (Wan Model)","properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"UNETLoader"},"widgets_values":["wan2.1_i2v_480p_14B_fp16.safetensors","default"]},{"id":140,"type":"CLIPLoader","pos":[-8105.56982421875,692.6720581054688],"size":[315,106],"flags":{},"order":31,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[199]}],"title":"Load CLIP (Wan Clip)","properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPLoader"},"widgets_values":["native_umt5_xxl_fp8_e4m3fn_scaled.safetensors","wan","default"]},{"id":129,"type":"CLIPVisionLoader","pos":[-8107.63427734375,842.9776000976562],"size":[315,58],"flags":{},"order":32,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null}],"outputs":[{"localized_name":"CLIP_VISION","name":"CLIP_VISION","type":"CLIP_VISION","slot_index":0,"links":[200]}],"title":"Load CLIP Vision (Wan Clip Vision)","properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPVisionLoader"},"widgets_values":["native_clip_vision_h.safetensors"]},{"id":139,"type":"VAELoader","pos":[-8100.96923828125,950.0863037109375],"size":[315,58],"flags":{},"order":33,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[201]}],"title":"Load VAE (Wan VAE)","properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAELoader"},"widgets_values":["native_wan_2.1_vae.safetensors"]},{"id":154,"type":"VAELoader","pos":[-279.2904968261719,1171.427734375],"size":[315,58],"flags":{},"order":34,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[215,216,234]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAELoader"},"widgets_values":["native_wan_2.1_vae.safetensors"]}],"links":[[52,58,0,36,0,"MODEL"],[53,38,0,37,0,"LATENT"],[55,53,0,38,0,"NOISE"],[56,54,0,38,1,"GUIDER"],[57,50,0,38,2,"SAMPLER"],[58,49,0,38,3,"SIGMAS"],[59,40,2,38,4,"LATENT"],[60,37,0,39,0,"IMAGE"],[61,43,0,40,0,"CONDITIONING"],[62,41,0,40,1,"CONDITIONING"],[64,42,0,40,3,"IMAGE"],[68,42,0,46,0,"IMAGE"],[70,36,0,49,0,"MODEL"],[71,40,0,51,0,"CONDITIONING"],[72,36,0,52,0,"MODEL"],[73,46,2,52,3,"INT"],[74,46,1,52,4,"INT"],[75,52,0,54,0,"MODEL"],[76,51,0,54,1,"CONDITIONING"],[79,55,0,58,0,"MODEL"],[80,59,0,34,0,"IMAGE"],[82,60,0,61,0,"IMAGE"],[83,42,0,64,0,"IMAGE"],[95,75,0,64,1,"FL2MODEL"],[98,77,0,76,0,"MASK"],[99,77,0,40,4,"MASK"],[100,64,1,79,0,"MASK"],[153,108,0,97,0,"MODEL"],[154,111,0,97,1,"CONDITIONING"],[155,111,1,97,2,"CONDITIONING"],[156,105,0,97,3,"LATENT"],[157,107,0,98,0,"MASK"],[159,106,3,102,0,"JSON"],[160,100,0,103,0,"SAM2MODEL"],[162,102,0,103,2,"STRING"],[163,102,0,103,3,"STRING"],[165,110,0,105,0,"LATENT"],[166,107,0,105,1,"MASK"],[168,99,0,106,1,"FL2MODEL"],[170,112,0,108,0,"MODEL"],[172,116,0,111,0,"CONDITIONING"],[173,117,0,111,1,"CONDITIONING"],[174,118,0,111,3,"CLIP_VISION_OUTPUT"],[175,122,0,111,4,"IMAGE"],[176,120,1,111,5,"INT"],[177,120,2,111,6,"INT"],[179,113,0,112,0,"MODEL"],[180,114,0,113,0,"MODEL"],[185,120,0,118,1,"IMAGE"],[187,97,0,123,0,"LATENT"],[188,123,0,124,0,"IMAGE"],[189,98,0,125,0,"IMAGE"],[191,127,0,122,0,"IMAGE"],[195,128,0,132,0,"*"],[197,137,0,134,0,"*"],[198,141,0,135,0,"*"],[199,140,0,136,0,"*"],[200,129,0,142,0,"*"],[201,139,0,143,0,"*"],[203,146,0,133,0,"CLIP"],[205,148,0,43,0,"CLIP"],[206,148,0,41,0,"CLIP"],[207,149,0,40,2,"VAE"],[208,150,0,37,1,"VAE"],[209,34,0,151,0,"*"],[210,152,0,60,0,"IMAGE"],[212,153,0,106,0,"IMAGE"],[214,153,0,103,1,"IMAGE"],[215,154,0,110,1,"VAE"],[216,154,0,123,1,"VAE"],[217,155,0,114,0,"MODEL"],[218,156,0,116,0,"CLIP"],[219,156,0,117,0,"CLIP"],[220,157,0,118,0,"CLIP_VISION"],[221,153,0,110,0,"IMAGE"],[222,158,0,159,1,"IMAGE"],[223,160,0,159,2,"STRING"],[224,160,1,159,3,"STRING"],[227,164,0,159,0,"SAM2MODEL"],[228,165,0,116,1,"STRING"],[229,127,0,120,0,"IMAGE"],[230,120,1,122,2,"INT"],[231,120,2,122,3,"INT"],[232,59,1,166,0,"*"],[233,167,0,111,7,"INT"],[234,154,0,111,2,"VAE"],[235,174,0,170,0,"IMAGE"],[236,175,0,174,0,"IMAGE"],[238,171,0,175,1,"IMAGE"],[241,127,0,171,0,"IMAGE"],[242,123,0,172,0,"IMAGE"],[243,173,0,175,0,"IMAGE"],[244,172,0,175,5,"IMAGE"],[245,34,0,173,0,"IMAGE"],[246,42,1,77,0,"MASK"],[248,165,0,174,9,"STRING"],[250,159,0,107,0,"MASK"],[252,147,0,176,0,"MODEL"],[253,176,0,55,0,"MODEL"]],"groups":[{"id":2,"title":"2. Inpaint First Frame","bounding":[-5609.3056640625,161.3142547607422,3987.26953125,1283.2587890625],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"1. Get First Frame","bounding":[-6744.26171875,166.78073120117188,1074.17578125,689.0995483398438],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"3. Auto Masking","bounding":[-1503.6575927734375,1262.5628662109375,2619.2529296875,723.2376098632812],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"3. Inpaint Video","bounding":[-1518.343017578125,192.875244140625,3551.0185546875,1042.51123046875],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"Model Loaders (Set This First!)","bounding":[-8205.4873046875,101.21987915039062,696.7750854492188,941.718994140625],"color":"#3f789e","font_size":24,"flags":{}},{"id":10,"title":"Load Video","bounding":[-7477.869140625,106.32767486572266,648.9873046875,820.0043334960938],"color":"#3f789e","font_size":24,"flags":{}},{"id":12,"title":"Speedups (Bypass if not working)","bounding":[-4976.57177734375,249.11074829101562,420,570.6410522460938],"color":"#3f789e","font_size":24,"flags":{}},{"id":13,"title":"SpeedUps (Not Required, bypass if not working)","bounding":[-955.4619750976562,250.27964782714844,1082.4205322265625,261.6000061035156],"color":"#3f789e","font_size":24,"flags":{}},{"id":14,"title":"SAM2 Masking","bounding":[-1445.932373046875,2022.4898681640625,1905.43115234375,1489.2430419921875],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.5559917313492685,"offset":[2052.6789838320124,-444.34341217125836]},"ue_links":[],"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"frontendVersion":"1.17.11"},"version":0.4}