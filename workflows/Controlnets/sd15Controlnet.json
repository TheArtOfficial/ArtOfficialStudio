{"id":"724b211f-f816-493f-85b3-0dc17191734a","revision":0,"last_node_id":23,"last_link_id":34,"nodes":[{"id":7,"type":"ControlNetApplyAdvanced","pos":[2632.188232421875,2416.033203125],"size":[315,186],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":6},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":7},{"localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":8},{"localized_name":"image","name":"image","type":"IMAGE","link":27},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":10},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[23]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[24]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.5900000000000001,0,0.6000000000000001]},{"id":12,"type":"CLIPTextEncode","pos":[2177.030029296875,2491.692138671875],"size":[371.5728454589844,88],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":14},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncode"},"widgets_values":["Poor quality, blurry, grainy"]},{"id":13,"type":"DWPreprocessor","pos":[1764.0274658203125,3055.046142578125],"size":[320.79998779296875,222],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":32},{"localized_name":"detect_hand","name":"detect_hand","shape":7,"type":"COMBO","widget":{"name":"detect_hand"},"link":null},{"localized_name":"detect_body","name":"detect_body","shape":7,"type":"COMBO","widget":{"name":"detect_body"},"link":null},{"localized_name":"detect_face","name":"detect_face","shape":7,"type":"COMBO","widget":{"name":"detect_face"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":null},{"localized_name":"bbox_detector","name":"bbox_detector","shape":7,"type":"COMBO","widget":{"name":"bbox_detector"},"link":null},{"localized_name":"pose_estimator","name":"pose_estimator","shape":7,"type":"COMBO","widget":{"name":"pose_estimator"},"link":null},{"localized_name":"scale_stick_for_xinsr_cn","name":"scale_stick_for_xinsr_cn","shape":7,"type":"COMBO","widget":{"name":"scale_stick_for_xinsr_cn"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[]},{"localized_name":"POSE_KEYPOINT","name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"1e9eac6377c882da8bb360c7544607036904362c","Node name for S&R":"DWPreprocessor"},"widgets_values":["enable","enable","enable",512,"yolox_l.onnx","dw-ll_ucoco_384_bs5.torchscript.pt","disable"]},{"id":17,"type":"LineArtPreprocessor","pos":[1760.5919189453125,2934.38427734375],"size":[315,82],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":33},{"localized_name":"coarse","name":"coarse","shape":7,"type":"COMBO","widget":{"name":"coarse"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[]}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"1e9eac6377c882da8bb360c7544607036904362c","Node name for S&R":"LineArtPreprocessor"},"widgets_values":["disable",512]},{"id":20,"type":"KSampler","pos":[3194.406005859375,2297.848876953125],"size":[315,787.3333129882812],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":22},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":23},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":24},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":25},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[18]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"KSampler"},"widgets_values":[233307814842949,"fixed",20,6,"euler","normal",1]},{"id":11,"type":"CLIPTextEncode","pos":[2138.83251953125,2229.40283203125],"size":[400,200],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":12},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[6]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":19,"type":"ControlNetLoader","pos":[2203.57275390625,2624.451171875],"size":[315,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","links":[8]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"ControlNetLoader"},"widgets_values":["sai_xl_depth_256lora.safetensors"]},{"id":18,"type":"DepthAnythingV2Preprocessor","pos":[1711.9268798828125,2804.363037109375],"size":[352.79998779296875,82],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":34},{"localized_name":"ckpt_name","name":"ckpt_name","shape":7,"type":"COMBO","widget":{"name":"ckpt_name"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[26]}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"1e9eac6377c882da8bb360c7544607036904362c","Node name for S&R":"DepthAnythingV2Preprocessor"},"widgets_values":["depth_anything_v2_vitl.pth",512]},{"id":3,"type":"EmptyLatentImage","pos":[2802.682861328125,2872.674072265625],"size":[315,126],"flags":{"collapsed":false},"order":13,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":28},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":29},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[25]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"EmptyLatentImage"},"widgets_values":[904,1280,1]},{"id":22,"type":"ImageResizeKJv2","pos":[2290.833740234375,2879.395263671875],"size":[315,242],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":26},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":30},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":31},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[27]},{"localized_name":"width","name":"width","type":"INT","links":[28]},{"localized_name":"height","name":"height","type":"INT","links":[29]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"c3dc82108a2a86c17094107ead61d63f8c76200e","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[512,512,"nearest-exact","stretch","0, 0, 0","center",2]},{"id":8,"type":"GetNode","pos":[1246.953369140625,2919.218017578125],"size":[210,58],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[30]}],"title":"Get_width","properties":{},"widgets_values":["width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":9,"type":"GetNode","pos":[1250.0023193359375,3020.375244140625],"size":[210,58],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[31]}],"title":"Get_height","properties":{},"widgets_values":["height"],"color":"#1b4669","bgcolor":"#29699c"},{"id":23,"type":"LoadImage","pos":[1177.691650390625,2557.907958984375],"size":[342.5999755859375,314],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[32,33,34]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"LoadImage"},"widgets_values":["2025-03-04_00011_.png","image"]},{"id":1,"type":"Note","pos":[1727.7032470703125,2642.438232421875],"size":[351.20001220703125,106.19999694824219],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["You can use any pre-processor you'd like, I'm using Depth here. DWPose, Canny, Lineart, all work as expected."],"color":"#432","bgcolor":"#653"},{"id":21,"type":"CheckpointLoaderSimple","pos":[1193.4427490234375,2395.025634765625],"size":[315,98],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[22]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[12,14]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[10,19]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["v1-5-pruned.ckpt"]},{"id":16,"type":"VAEDecode","pos":[3613.59423828125,2406.920654296875],"size":[210,46],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":18},{"localized_name":"vae","name":"vae","type":"VAE","link":19}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[11]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":10,"type":"SaveImage","pos":[3916.7470703125,2405.5224609375],"size":[315,270],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":11},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]}],"links":[[6,11,0,7,0,"CONDITIONING"],[7,12,0,7,1,"CONDITIONING"],[8,19,0,7,2,"CONTROL_NET"],[10,21,2,7,4,"VAE"],[11,16,0,10,0,"IMAGE"],[12,21,1,11,0,"CLIP"],[14,21,1,12,0,"CLIP"],[18,20,0,16,0,"LATENT"],[19,21,2,16,1,"VAE"],[22,21,0,20,0,"MODEL"],[23,7,0,20,1,"CONDITIONING"],[24,7,1,20,2,"CONDITIONING"],[25,3,0,20,3,"LATENT"],[26,18,0,22,0,"IMAGE"],[27,22,0,7,3,"IMAGE"],[28,22,1,3,0,"INT"],[29,22,2,3,1,"INT"],[30,8,0,22,1,"INT"],[31,9,0,22,2,"INT"],[32,23,0,13,0,"IMAGE"],[33,23,0,17,0,"IMAGE"],[34,23,0,18,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.42409761837248566,"offset":[-1577.638057296527,-1893.3470128598628]}},"version":0.4}